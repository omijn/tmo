## T-Mobile+Splitwise Bill Splitting Tools

#### Description
A two step process to splitting the T-Mobile family bill.
1) Read through the Detailed Bill and populate the "input file" with every member's monthly expenses (no need to add up the totals, just write an arithmetic expression as detailed below)
2) Run the translator on the input file to generate the "output file". The output file is then used as input to the Splitwise connector app (app.py). 

### Step 1 (Filling in values from T-Mobile Detailed Bill)
Enter list of users in input file. Each row in the file has the following format:

```
splitwiseUID_Name_Phone $a + b + c - d
```

The name and phone number don't matter. The important parts are the splitwise user ID, the underscore following the user ID, the $ sign, and the numeric values after the $ sign. The name and phone number are just extra visual helpers. 

### Step 2 (Translation and communicating split amount to members on Splitwise)
The output file is in JSON and has the following format:

```
{
	"total": "123.5",
	"desc": "bill",
	"group_id": "12345",
	"users": {
		"splitwiseUID1": {
			"name": "John Doe",
			"amt": 30.62
		},
		"splitwiseUID2": {
			"name": "Jane Doe",
			"amt": 20.62
		}
		.
		.
		.
		.
	}
}
```

The `translator` script translates the values in the input file to the output file. The output file is not completely generated by the translation script. You need to have at least a partially structured output file as shown above before running the translation script. Run the following to use the script:

```
# populates the values in the outputfile
./translator inputfile outputfile
```

The output file can now be used as input to the Splitwise program:

```
python3 app.py -c config.ini -e outputfile
```

The config.ini file has the following format: 

```
[oauth]
client_id = my_splitwise_app_id
client_secret = my_splitwise_app_secret
redirect_uri = http://localhost:3000/authorized

[server]
addr = localhost
port = 3000
debug = false
```

##### Note that the input and output files can be named whatever makes the most sense, for example a "users" file and "expense_info" file. 
